# Лабораторная работа №4 "ОБОБЩЕННЫЕ ТИПЫ"
**Выполняла: Окулова Александра ИТ-18-2024/ИКНТ/ЛА8-2024/ПР4-2024. 
Вариант №10** 
## Задание 1.1 Обобщенная коробка.
Программа предназначена для работы с обобщённой сущностью «Коробка», которая может хранить один объект произвольного типа данных. Цель программы — продемонстрировать работу обобщённых классов (generics), включая создание, хранение, извлечение и проверку содержимого коробки.

**Класс GenericBox<T> представляет сущность «Коробка» и реализует хранение одного объекта типа T.**
Он является обобщённым, что позволяет создавать экземпляры коробки для любых типов данных.

Класс содержит следующие элементы:

Поле content — хранит ссылку на объект, помещённый в коробку.

Метод put(T item) — помещает объект в коробку. Если коробка уже занята, выбрасывается исключение IllegalStateException.

Метод get() — извлекает объект из коробки и обнуляет ссылку, делая коробку пустой.

Метод peek() — позволяет просмотреть содержимое коробки без извлечения.

Методы isEmpty() и isFull() — проверяют состояние коробки (пустая или заполнена).

Метод toString() — возвращает строковое описание состояния коробки, показывая содержимое в читаемом виде.
<img width="431" height="493" alt="image" src="https://github.com/user-attachments/assets/beba4039-7bbb-4aa2-9e5d-e45638d5e5d8" /> 
<img width="621" height="397" alt="image" src="https://github.com/user-attachments/assets/645dd82e-dede-4ba4-ba84-c4ad1b328938" />
<img width="432" height="482" alt="image" src="https://github.com/user-attachments/assets/3cf3ea92-975c-4c1a-91ca-85cf4eac3ec8" /> 

<img width="370" height="341" alt="image" src="https://github.com/user-attachments/assets/d627f9ce-328a-468b-a37a-76c034eeb0e6" />


**Класс BoxDemo выполняет роль интерфейса взаимодействия с пользователем и демонстрации работы с коробками различных типов.**
Он реализует консольное меню, позволяющее пользователю:

Создать коробку для хранения целого числа и поместить туда значение.

Создать коробку для хранения строки.

Извлечь объект из коробки.

Просмотреть текущее состояние коробки (пустая, заполнена, тип содержимого).

Выполнить учебное задание — создать коробку, поместить туда число 3, передать коробку в метод и вывести результат.

Выйти из программы.

Внутри класса поддерживается одна «текущая» коробка (currentBox), которая может содержать объект любого типа. При выполнении задания создаётся отдельная временная коробка (taskBox), не влияющая на основную.

## Задание 1.2. Без null.
Программа предназначена для работы с обобщённой сущностью «Хранилище» (Storage), которая может содержать один объект произвольного типа данных.
Цель программы — продемонстрировать использование обобщённых классов (generics) и принципы неизменяемости объектов, а также показать работу с пользовательским вводом и альтернативными значениями при null.
Класс StorageApp содержит вложенные классы и методы для демонстрации возможностей неизменяемого хранилища.

Главная идея заключается в том, что хранилище создаётся один раз с конкретным значением (включая null), после чего содержимое изменить нельзя.
При обращении к хранилищу, если сохранённое значение равно null, возвращается альтернативное значение, указанное пользователем или заданное по условию задачи.

**Класс Storage.
Обобщённый (generic) и неизменяемый класс, реализующий хранение одного значения типа T.**

Поле value — хранит ссылку на объект произвольного типа (возможно null).

Конструктор Storage(T value) — создаёт хранилище с указанным значением.

Метод getOrElse(T alternative) — возвращает сохранённое значение,
если оно не равно null; иначе — переданное альтернативное значение.

Метод toString() — возвращает текстовое описание содержимого хранилища.

Хранилище неизменяемо: после создания значение нельзя изменить.

**Класс StorageDemo содержит логику пользовательского интерфейса (меню) и демонстрацию работы с хранилищами.**

showMenu() — отображает текстовое меню выбора действий.

run() — главный цикл программы, обрабатывающий пользовательский ввод и выбор пунктов меню.

processNumberStorage — демонстрирует работу с числовым хранилищем.

processStringStorage — демонстрирует работу со строковым хранилищем.

executeTask() — выполняет учебное задание по условиям задачи (4 примера работы хранилища)

## Задание 2.2. Поиск максимума. 
Программа предназначена для работы с обобщённой сущностью «Коробка», которая может хранить один объект произвольного типа данных. Цель программы — продемонстрировать работу обобщённых классов (generics), динамическое хранение объектов разных типов, их извлечение, просмотр состояния и выполнение операций над набором коробок (например, поиск максимального числа).

**Класс GenericBox представляет сущность «Коробка» и реализует хранение одного объекта типа T..**

Основные элементы класса:

Поле content — хранит объект, помещённый в коробку. Может быть null, если коробка пуста.

Метод put(T item) — помещает объект в коробку. Если коробка уже занята, выбрасывается исключение IllegalStateException.

Метод get() — извлекает объект из коробки и делает её пустой.

Метод peek() — возвращает объект в коробке без извлечения.

Методы isEmpty() и isFull() — проверяют состояние коробки.

Метод toString() — возвращает строковое описание коробки с указанием содержимого.

**Класс BoxDemo выполняет роль интерфейса взаимодействия с пользователем и демонстрации работы с коробками различных типов.**

Функциональные возможности:

Создание коробки для хранения целого числа.

Создание коробки для хранения строки.

Извлечение объекта из выбранной коробки.

Просмотр состояния всех созданных коробок: пустая, заполнена, тип содержимого.

Поиск максимального числа среди всех числовых коробок.

Выход из программы.

Особенности реализации:

Все созданные коробки хранятся в списке allBoxes.

Пользователь может выбрать любую коробку по индексу для извлечения содержимого.

Поиск максимального числа осуществляется динамически: метод проходит по всем коробкам, проверяет, является ли содержимое числом, и вычисляет максимум с использованием doubleValue().

## Задание 3.1. Функция. 
Цель — показать, как можно создавать универсальные методы, способные работать с различными типами данных, применять к ним функции и получать новые результаты.

**Класс GenericFunction**

Метод map: 
Обобщённый метод с параметрами <T, P>;
T — тип исходных элементов списка,
P — тип элементов результирующего списка.
Принимает список List и объект Function<T,P> с методом apply.
Применяет функцию к каждому элементу исходного списка и возвращает новый список List
с результатами.

**Метод demo показывает три примера работы метода map:**

Строки → длины строк
Список ["qwerty", "asdfg", "zx"] преобразуется в [6, 5, 2].

Числа → абсолютные значения
Список [1, -3, 7] преобразуется в [1, 3, 7].

Массивы int[] → максимальные значения
Список массивов [[1,5,2], [7,3,9], [0,-1,4]] преобразуется в [5, 9, 4].

## Задание 3.2. Фильтр. 
Цель — показать, как можно создавать универсальные методы фильтрации элементов списка с помощью функциональных интерфейсов, применяя условие проверки к каждому элементу.

**Класс GenericFilter**

Метод filter: Обобщённый метод T;
Принимает список List и объект Predicate с методом test(T t).
Проходит по каждому элементу списка и добавляет его в новый список, если test возвращает true.
Возвращает новый список элементов, прошедших проверку.

**Метод demo показывает три примера работы метода filter:**

Строки длиной >= 3
Список ["qwerty", "asdfg", "zx"] преобразуется в ["qwerty", "asdfg"].

Числа <= 0
Список [1, -3, 7] преобразуется в [-3].

Массивы без положительных элементов
Список массивов [[1,-5,2], [-7,-3,0], [0,-1,-4]] преобразуется в [[-7,-3,0], [0,-1,-4]].

## Задание 3.3. Сокращение. 

Цель программы — изучение и демонстрация работы с обобщёнными методами.
Программа показывает, как можно создавать универсальные методы для обработки данных различных типов, включая:
Преобразование элементов списка (map).
Фильтрацию элементов по условию (filter).
Сбор элементов в коллекции (collect).
Сведение списка к одному значению (reduce).

**Методы класса GenericUtils**

map:
Применяет функцию func к каждому элементу исходного списка и возвращает новый список результатов.
Пример: строки → длины строк; числа → абсолютные значения; массивы → максимальные элементы.

filter:
Возвращает новый список, содержащий только те элементы исходного списка, для которых condition.test(element) возвращает true.
Пример: строки длиной >= 3; неположительные числа; массивы без положительных чисел.

collect:
Создаёт коллекцию типа P с помощью фабрики collectionFactory и заполняет её элементами списка через adder.
Пример: разделение чисел на положительные и отрицательные; группировка строк по длине; создание множества уникальных строк.

reduce: 
Сводит список элементов к одному значению с помощью бинарного оператора reducer.
identity — значение по умолчанию для пустого списка, чтобы метод не возвращал null.
Пример: объединение строк в одну; сумма чисел; общее количество элементов во вложенных списках.

## Задание 3.4. Коллекционирование. 

Цель программы — изучение и демонстрация работы с обобщёнными методами.
Программа показывает, как можно создавать универсальный метод для сведения списка элементов к одному значению, применяя к ним произвольную бинарную операцию.

**Класс GenericReducer**

Метод reduce:

Метод проходит по всем элементам списка и последовательно применяет бинарную операцию, возвращая итоговое значение.
Если список пуст, возвращается identity, что обеспечивает безопасность метода и предотвращает возврат null или выброс исключений.

Метод demo: демонстрирует работу метода reduce на трёх примерах:

Объединение строк — из списка ["qwerty", "asdfg", "zx"] формируется одна строка "qwertyasdfgzx".

Сумма чисел — из списка [1, -3, 7] вычисляется сумма 5.

Общее количество элементов во вложенных списках — список [[1,2,3], [4,5], [6]] преобразуется в 6.
